#!/usr/bin/env python 

import tushare.stock.trading as td

def get_price(code, cost, count):
    data = td.get_realtime_quotes(code).to_dict(orient='records')[0]
    profit = (float(data['price']) - cost) * count;
    print '{:>12} {:>12} {:>12} {:>12}'.format(data['name'].encode('utf-8'), data['price'], float(data['price'])-float(data['pre_close']), profit)
    return profit
    
if __name__ == "__main__":
    total = 0
    total += get_price('603288', 50.616, 200)
    total += get_price('002275', 18.337, 300)
    total += get_price('601398', 6.245, 1000)
    total += get_price('603515', 46.411, 100)
    total += get_price('002745', 53.426, 200)
    total += get_price('000538', 105.453, 100)
    total += get_price('603899', 23.127, 300)
    total += get_price('603040', 88.089, 300)
    print 'total profit: %s' % total

    print '-----------------------------------'

    total = 0
    total += get_price('002419', 15.977, 600)
    total += get_price('002312', 7.125, 1000)
    print 'total profit: %s' % total
